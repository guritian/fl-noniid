import matplotlib.pyplot as plt
import numpy as np

import pandas as pd
data = pd.read_csv("./results/500_1_fed_cluster.csv")

# f_fed_cluster_500_1 = open("./results/500_1_fed_cluster.csv","r")
# fed_cluster_500_1 = f_fed_cluster_500_1.readlines()
# list = list(fed_cluster_500_1[0])

fig = plt.figure()

x = np.linspace(1, 10, 100)

# plt.plot(np.arange(1,11), [0.1514, 0.2342, 0.5245, 0.8135, 0.8636, 0.8914, 0.904, 0.9158, 0.9257, 0.9301], label='IID')
plt.plot(np.arange(1,251), [0.1001, 0.1151, 0.1208, 0.111, 0.1612, 0.1272, 0.1458, 0.142, 0.1433, 0.1701, 0.1347, 0.1967, 0.1336, 0.1844, 0.1385, 0.176, 0.1844, 0.1987, 0.1938, 0.1948, 0.1524, 0.1661, 0.1765, 0.246, 0.2364, 0.2307, 0.1886, 0.2106, 0.1939, 0.2238, 0.2215, 0.2573, 0.2386, 0.2378, 0.1966, 0.2168, 0.2258, 0.2206, 0.264, 0.2552, 0.2871, 0.2996, 0.2927, 0.2824, 0.2625, 0.2191, 0.231, 0.2764, 0.2896, 0.2856, 0.2772, 0.2598, 0.2405, 0.2609, 0.2861, 0.3163, 0.3175, 0.308, 0.2746, 0.2394, 0.2627, 0.3126, 0.335, 0.3344, 0.3305, 0.3198, 0.292, 0.2879, 0.2919, 0.3064, 0.3117, 0.2936, 0.3071, 0.3, 0.309, 0.3184, 0.3034, 0.2983, 0.3004, 0.2832, 0.3022, 0.2786, 0.2834, 0.3116, 0.3325, 0.3408, 0.3332, 0.3073, 0.3038, 0.3299, 0.3256, 0.3242, 0.3367, 0.3232, 0.3433, 0.3524, 0.3334, 0.3027, 0.3048, 0.3272, 0.348, 0.3344, 0.3007, 0.264, 0.2725, 0.355, 0.3718, 0.3709, 0.3685, 0.3435, 0.3108, 0.3172, 0.3375, 0.3712, 0.3727, 0.3629, 0.3542, 0.3493, 0.3084, 0.3292, 0.3515, 0.3782, 0.3711, 0.319, 0.2304, 0.2704, 0.3159, 0.384, 0.3796, 0.3868, 0.3699, 0.3486, 0.344, 0.3579, 0.3693, 0.3707, 0.3544, 0.322, 0.3492, 0.3628, 0.3573, 0.3333, 0.3802, 0.3482, 0.3913, 0.3779, 0.3726, 0.3473, 0.3754, 0.3671, 0.3542, 0.3539, 0.3436, 0.3916, 0.3853, 0.3888, 0.3739, 0.3372, 0.3638, 0.387, 0.3987, 0.3887, 0.3648, 0.2654, 0.2444, 0.2963, 0.3607, 0.3966, 0.4059, 0.4076, 0.3951, 0.3881, 0.3676, 0.3521, 0.3217, 0.3846, 0.4081, 0.4081, 0.4167, 0.3977, 0.3823, 0.3496, 0.3706, 0.3778, 0.3938, 0.3991, 0.3877, 0.3962, 0.355, 0.3864, 0.3837, 0.3823, 0.3623, 0.3161, 0.3495, 0.4158, 0.4187, 0.4234, 0.4148, 0.3861, 0.3611, 0.3673, 0.3612, 0.4109, 0.4162, 0.4164, 0.4119, 0.4033, 0.3628, 0.3147, 0.3265, 0.3876, 0.4169, 0.4228, 0.4134, 0.4139, 0.4024, 0.37, 0.3461, 0.3746, 0.372, 0.41, 0.4283, 0.4267, 0.4159, 0.4185, 0.4096, 0.3948, 0.371, 0.4046, 0.403, 0.4162, 0.3967, 0.3975, 0.3984, 0.4362, 0.4198, 0.4085, 0.3975, 0.3833, 0.4071, 0.4167, 0.4293, 0.4049, 0.4054, 0.3608, 0.3832, 0.3907, 0.4285, 0.4299], label='pre-clusterd')
# plt.plot(np.arange(1,101), [0.102, 0.1355, 0.1518, 0.1665, 0.1412, 0.1715, 0.2014, 0.1873, 0.2396, 0.2222, 0.2047, 0.2105, 0.1823, 0.2342, 0.1561, 0.2587, 0.2316, 0.2665, 0.2529, 0.2538, 0.2126, 0.3206, 0.2783, 0.2129, 0.1925, 0.2906, 0.2199, 0.2736, 0.253, 0.266, 0.1444, 0.1925, 0.3066, 0.2376, 0.2672, 0.2007, 0.3147, 0.2697, 0.3014, 0.2371, 0.3136, 0.323, 0.2302, 0.3282, 0.2528, 0.2937, 0.2826, 0.3197, 0.3508, 0.275, 0.3603, 0.2983, 0.3243, 0.2795, 0.3295, 0.3474, 0.3474, 0.3334, 0.3544, 0.2041, 0.2807, 0.2689, 0.2866, 0.2839, 0.3279, 0.3803, 0.2847, 0.3403, 0.3141, 0.3428, 0.3827, 0.3543, 0.3866, 0.4074, 0.3476, 0.3137, 0.3655, 0.3595, 0.3301, 0.3609, 0.3419, 0.37, 0.3855, 0.3716, 0.3599, 0.3471, 0.403, 0.2917, 0.2839, 0.2238, 0.3518, 0.3342, 0.3399, 0.3795, 0.3146, 0.3204, 0.2578, 0.3758, 0.3838, 0.395], label='2 classes per device')
# plt.plot(np.arange(1,101), [0.1162, 0.1003, 0.1504, 0.1588, 0.1576, 0.2193, 0.2154, 0.1874, 0.2433, 0.1715, 0.1596, 0.2055, 0.1982, 0.2952, 0.2564, 0.3525, 0.3303, 0.3118, 0.2115, 0.2876, 0.3496, 0.2449, 0.353, 0.3577, 0.3356, 0.2671, 0.3467, 0.3112, 0.3795, 0.3412, 0.3122, 0.334, 0.3741, 0.2543, 0.2829, 0.3933, 0.3223, 0.426, 0.3948, 0.3714, 0.3925, 0.349, 0.4124, 0.3942, 0.3266, 0.4378, 0.3752, 0.4223, 0.4362, 0.4275, 0.3513, 0.4463, 0.4148, 0.4533, 0.4188, 0.3553, 0.4694, 0.4495, 0.4163, 0.4294, 0.4522, 0.4209, 0.4172, 0.388, 0.4316, 0.4611, 0.4679, 0.447, 0.4197, 0.372, 0.4397, 0.4548, 0.448, 0.4215, 0.4093, 0.465, 0.4818, 0.3678, 0.4603, 0.4337, 0.4472, 0.456, 0.4141, 0.4664, 0.47, 0.4022, 0.4176, 0.4258, 0.4866, 0.4673, 0.3319, 0.4483, 0.3999, 0.3801, 0.4429, 0.4614, 0.4074, 0.4686, 0.4596, 0.4858], label='3 classes per device')
# plt.plot(np.arange(1,101), [0.1189, 0.2072, 0.2317, 0.2427, 0.2495, 0.2957, 0.2297, 0.2593, 0.2883, 0.3038, 0.2954, 0.3468, 0.3625, 0.332, 0.2791, 0.3744, 0.285, 0.353, 0.3414, 0.3167, 0.3709, 0.3725, 0.3355, 0.3935, 0.347, 0.4107, 0.3534, 0.4108, 0.3469, 0.36, 0.346, 0.3614, 0.4265, 0.3767, 0.433, 0.4093, 0.351, 0.379, 0.4456, 0.3463, 0.3972, 0.4465, 0.4542, 0.4596, 0.3464, 0.461, 0.3601, 0.4248, 0.444, 0.4519, 0.3699, 0.411, 0.389, 0.3332, 0.4692, 0.446, 0.4007, 0.3425, 0.3841, 0.4657, 0.4727, 0.4762, 0.4742, 0.4757, 0.3879, 0.3292, 0.4101, 0.3604, 0.4157, 0.4738, 0.4858, 0.4814, 0.4517, 0.4606, 0.4863, 0.4736, 0.3602, 0.3712, 0.4212, 0.4097, 0.4858, 0.4758, 0.3655, 0.4255, 0.4279, 0.3796, 0.4813, 0.3758, 0.4012, 0.4846, 0.4953, 0.4962, 0.4633, 0.4848, 0.4868, 0.4024, 0.4142, 0.4231, 0.4816, 0.3866], label='5 classes per device')
# plt.plot(np.arange(1,101), [0.1271, 0.1387, 0.1646, 0.2249, 0.2602, 0.2737, 0.2908, 0.3097, 0.3265, 0.3422, 0.3554, 0.3691, 0.3797, 0.3891, 0.3996, 0.4035, 0.4163, 0.4184, 0.4256, 0.4279, 0.4392, 0.4472, 0.446, 0.454, 0.4569, 0.4643, 0.468, 0.467, 0.4706, 0.4785, 0.4772, 0.4824, 0.4858, 0.4842, 0.4863, 0.4899, 0.4877, 0.4937, 0.4975, 0.4926, 0.4946, 0.4966, 0.5016, 0.4985, 0.5006, 0.5021, 0.5046, 0.5039, 0.5026, 0.5104, 0.5087, 0.5142, 0.5082, 0.5088, 0.5112, 0.5112, 0.511, 0.5103, 0.5109, 0.513, 0.5087, 0.5067, 0.509, 0.5106, 0.5119, 0.5156, 0.5105, 0.5144, 0.5072, 0.5085, 0.5099, 0.5098, 0.5109, 0.5096, 0.5131, 0.5107, 0.5133, 0.5114, 0.5099, 0.5169, 0.5137, 0.5138, 0.5082, 0.5115, 0.5101, 0.5128, 0.512, 0.5112, 0.5136, 0.5142, 0.5177, 0.518, 0.5149, 0.5144, 0.5169, 0.5182, 0.5147, 0.5186, 0.5147, 0.5165], label='10 classes per device')
plt.plot(np.arange(1,251),[0.1, 0.1, 0.1002, 0.1, 0.0993, 0.0992, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1184, 0.107, 0.1, 0.1, 0.0976, 0.0914, 0.1012, 0.1502, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1001, 0.1, 0.1001, 0.1, 0.1676, 0.1044, 0.1241, 0.1529, 0.1179, 0.1735, 0.1, 0.1, 0.1672, 0.1658, 0.1507, 0.1, 0.1517, 0.1696, 0.1596, 0.1, 0.1, 0.1002, 0.1009, 0.1396, 0.1184, 0.1552, 0.1317, 0.1251, 0.1464, 0.1, 0.1408, 0.1437, 0.1407, 0.1011, 0.1, 0.1172, 0.1766, 0.1393, 0.1522, 0.1434, 0.1694, 0.1711, 0.1666, 0.1411, 0.1548, 0.103, 0.1464, 0.1, 0.1273, 0.1286, 0.1632, 0.0988, 0.1679, 0.1683, 0.133, 0.1567, 0.133, 0.1277, 0.1274, 0.1012, 0.1026, 0.1, 0.1142, 0.1772, 0.1, 0.1072, 0.1181, 0.1364, 0.1, 0.1001, 0.1067, 0.1805, 0.1, 0.181, 0.1744, 0.1058, 0.1818, 0.1184, 0.1695, 0.1858, 0.1316, 0.157, 0.1106, 0.1732, 0.1373, 0.101, 0.1965, 0.1719, 0.1329, 0.1007, 0.1967, 0.1569, 0.1072, 0.1538, 0.1001, 0.14, 0.1893, 0.1454, 0.1433, 0.1974, 0.186, 0.1609, 0.1196, 0.2006, 0.1783, 0.1849, 0.1067, 0.1694, 0.1732, 0.1, 0.1562, 0.1923, 0.1796, 0.1443, 0.1503, 0.1732, 0.2148, 0.1742, 0.1249, 0.2554, 0.2036, 0.1843, 0.2025, 0.1649, 0.2023, 0.2005, 0.2597, 0.1897, 0.207, 0.1926, 0.241, 0.1914, 0.1914, 0.1704, 0.1565, 0.1046, 0.1041, 0.1902, 0.1411, 0.1396, 0.1321, 0.1475, 0.1853, 0.1725, 0.1976, 0.1154, 0.1514, 0.1422, 0.1955, 0.1019, 0.1306, 0.1721, 0.1685, 0.1417, 0.1018, 0.1887, 0.1544, 0.2031, 0.1633, 0.1655, 0.2091, 0.1898, 0.2294, 0.2198, 0.2522, 0.1971, 0.1, 0.1, 0.1, 0.1763, 0.1106, 0.1648, 0.1644, 0.1808, 0.1051, 0.1492, 0.1153, 0.1959, 0.1, 0.1132, 0.1043, 0.1011, 0.1, 0.1205, 0.1, 0.1264, 0.1, 0.1, 0.15, 0.1084, 0.1981, 0.1013, 0.1, 0.1228, 0.1127, 0.1513, 0.1248, 0.1, 0.1734, 0.1228, 0.1816, 0.1271, 0.1112, 0.1229, 0.1, 0.1714, 0.1424, 0.1067, 0.0994, 0.1378, 0.1605, 0.1552, 0.1, 0.1317, 0.1441, 0.1255, 0.1448], label='FedAvg')

plt.xlabel('rounds')
plt.ylabel('accuracy')

plt.title("Accuracy on CIFAR-10 dataset (one class per client,lr = 0.1)")

plt.legend(loc=4)

plt.savefig('results/1.png')